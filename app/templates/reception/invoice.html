{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="d-flex justify-content-between mb-4 no-print">
        <a href="{{ url_for('front_desk.room_grid') }}" class="btn btn-outline-secondary">‚Üê Back</a>
        <button onclick="window.print()" class="btn btn-primary"><i class="fas fa-print"></i> Print Invoice</button>
    </div>

    <div class="card p-5" style="max-width: 800px; margin: 0 auto;">
        
        <div class="d-flex justify-content-between mb-5">
            <div>
                <h2 class="fw-bold text-primary"><i class="fas fa-hotel"></i> HotelEase</h2>
                <p class="text-muted">
                    123 Luxury Avenue<br>
                    Lahore, Pakistan<br>
                    support@hotelease.com
                </p>
            </div>
            <div class="text-end">
                <h4 class="text-muted">INVOICE</h4>
                <h5 class="fw-bold">#INV-{{ booking.booking_id }}</h5>
                <p>Date: {{ booking.check_out }}</p>
            </div>
        </div>

        <div class="row mb-5">
            <div class="col-6">
                <h6 class="fw-bold text-uppercase text-muted">Bill To:</h6>
                <h5>{{ booking.full_name }}</h5>
                <p>{{ booking.phone }}<br>{{ booking.email }}</p>
            </div>
        </div>

        <table class="table table-bordered mb-4">
            <thead class="table-light">
                <tr>
                    <th>Description</th>
                    <th class="text-end">Amount</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Room Charges ({{ booking.check_in }} to {{ booking.check_out }})</td>
                    <td class="text-end">${{ booking.total_amount }}</td>
                </tr>
                {% for service in services %}
                <tr>
                    <td>{{ service.service_name }} (x{{ service.quantity }})</td>
                    <td class="text-end">${{ service.total_order_cost }}</td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot class="table-light">
                <tr>
                    <td class="fw-bold text-end">Grand Total</td>
                    <td class="fw-bold text-end">${{ final_total }}</td>
                </tr>
            </tfoot>
        </table>

        <div class="text-center mt-5 text-muted small">
            <p>Thank you for staying with HotelEase!</p>
        </div>
    </div>
</div>

<style>
    /* CSS specifically for printing */
    @media print {
        body * { visibility: hidden; }
        .sidebar, .top-navbar { display: none; }
        .card, .card * { visibility: visible; }
        .card { position: absolute; left: 0; top: 0; width: 100%; border: none; box-shadow: none; }
        .no-print { display: none; }
    }
</style>
{% endblock %}